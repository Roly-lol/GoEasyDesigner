
class 历史记录管理器 {
    constructor() {
        this.历史记录 = [];
        this.当前位置 = -1;
    }
    // 记录最新数据到最新的一条(内容){
    //     console.log("记录最新数据到最新的一条=========")
    //     console.log("历史当前位置",this.当前位置)
    //     console.log("查看当前历史所有记录",this.查看当前历史所有记录())
    //     this.历史记录[this.当前位置]=内容
    // }
    记录(内容) {
        // 清空当前位置之后的历史记录
        this.历史记录 = this.历史记录.slice(0, this.当前位置 + 1);
        // 添加新的历史记录
        this.历史记录.push(内容);
        // 更新当前位置
        this.当前位置 = this.历史记录.length - 1;
        // console.log("记录=========")
        // console.log("历史当前位置",this.当前位置)
        // console.log("查看当前历史所有记录",this.查看当前历史所有记录())
    }

    撤销(内容) {
        if (内容){
            this.历史记录[this.当前位置]=内容
        }
        // console.log("撤销=========")Ï
        // console.log("历史当前位置",this.当前位置)
        // console.log("查看当前历史所有记录",this.查看当前历史所有记录())
        if (this.当前位置 > 0) {
            // 移动到前一个历史记录
            this.当前位置--;
            return this.历史记录[this.当前位置];
        } else {
            // 已经没有历史记录可以撤销了
            return null;
        }
    }

    恢复(内容) {

        // console.log("恢复=========")
        // console.log("历史当前位置",this.当前位置)
        // console.log("查看当前历史所有记录",this.查看当前历史所有记录())
        if (this.当前位置 < this.历史记录.length - 1) {
            if (内容){
                this.历史记录[this.当前位置]=内容
            }
            // 移动到后一个历史记录
            this.当前位置++;
            return this.历史记录[this.当前位置];
        } else {
            // 已经到达最新历史记录
            return null;
        }
    }


    查看当前历史所有记录() {
        return this.历史记录;
    }
}
const 历史记录管理器实例 = new 历史记录管理器();

export {历史记录管理器实例}
// 示例使用

// // 记录
// 历史记录管理器实例.记录("第一步操作");
// 历史记录管理器实例.记录("第二步操作");
//
// console.log("当前历史所有记录:", 历史记录管理器实例.查看当前历史所有记录());
//
// // 撤销
// const 撤销结果 = 历史记录管理器实例.撤销();
// console.log("撤销结果:", 撤销结果); // 输出：撤销结果: 第一步操作
//
// console.log("当前历史所有记录:", 历史记录管理器实例.查看当前历史所有记录());
//
// // // 恢复
// // const 恢复结果 = 历史记录管理器实例.恢复();
// // console.log("恢复结果:", 恢复结果); // 输出：恢复结果: 第二步操作
// //
// // console.log("当前历史所有记录:", 历史记录管理器实例.查看当前历史所有记录());
//
// // 记录新操作
// 历史记录管理器实例.记录("第三步操作");
//
// console.log("当前历史所有记录:", 历史记录管理器实例.查看当前历史所有记录());
//
// // 清除后续历史
// 历史记录管理器实例.已修改清除后续历史();
// console.log("当前历史所有记录:", 历史记录管理器实例.查看当前历史所有记录());
//
//
//
// // 恢复
// const 恢复结果 = 历史记录管理器实例.恢复();
// console.log("恢复结果:", 恢复结果); // 输出：恢复结果: 第二步操作
//
// console.log("当前历史所有记录:", 历史记录管理器实例.查看当前历史所有记录());
